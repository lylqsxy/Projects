angular.module("angularValidator",[]);angular.module("angularValidator").directive("angularValidator",function(){return{restrict:"A",link:function(n,t){function s(n){for(var t=0;t<n.length;t++)t in n&&c(n[t])}function c(t){if("validate-on"in t.attributes&&t.attributes["validate-on"].value==="blur")angular.element(t).on("blur",function(){u(t);e(t)});var r=n.$watch(function(){return t.value+t.required+i.submitted+v(t)+l(i[t.name])+a(i[t.name])},function(){if(i.submitted)u(t),e(t);else{var n="validate-on"in t.attributes&&t.attributes["validate-on"].value==="dirty";n?(u(t),e(t)):i[t.name]&&i[t.name].$pristine&&(u(t),e(t))}});o.push(r)}function l(n){if(n&&"$dirty"in n)return n.$dirty}function a(n){if(n&&"$valid"in n)return n.$valid}function v(t){if("validator"in t.attributes){var r=n.$eval(t.attributes.validator.value);return i[t.name].$setValidity("angularValidator",r),r}}function u(t){var e=function(){return"<i class='fa fa-times'><\/i> Required"},o=function(){return"<i class='fa fa-times'><\/i> Invalid"},r,u;t.name in i&&(r=i[t.name],u=y(t),u&&u.remove(),(r.$dirty||n[t.form.name]&&n[t.form.name].submitted)&&(r.$error.required?"required-message"in t.attributes?angular.element(t).after(f(t.attributes["required-message"].value)):angular.element(t).after(f(e)):r.$valid||("invalid-message"in t.attributes?angular.element(t).after(f(t.attributes["invalid-message"].value)):angular.element(t).after(f(o)))))}function f(t){return"<label class='control-label has-error validationMessage'>"+n.$eval(t)+"<\/label>"}function y(n){for(var i=angular.element(n).parent().children(),t=0;t<i.length;t++)if(angular.element(i[t]).hasClass("validationMessage"))return angular.element(i[t]);return!1}function e(t){if(t.name in i){var r=i[t.name];angular.element(t).removeClass("has-error");angular.element(t.parentNode).removeClass("has-error");(r.$dirty||n[t.form.name]&&n[t.form.name].submitted)&&r.$invalid&&(angular.element(t.parentNode).addClass("has-error"),angular.element(t).addClass("has-error"))}}var r=angular.element(t)[0],o=[],h=r.attributes.name.value,i=n[h];i.submitted=!1;n.$watch(function(){return Object.keys(i).length},function(){angular.forEach(o,function(n){n()});s(r)});t.on("submit",function(t){t.preventDefault();n.$apply(function(){i.submitted=!0});i.$valid&&n.$apply(function(){n.$eval(r.attributes["angular-validator-submit"].value)})});i.reset=function(){for(var n=0;n<r.length;n++)r[n].name&&(i[r[n].name].$setViewValue(""),i[r[n].name].$render());i.submitted=!1;i.$setPristine()};s(r)}}});
//# sourceMappingURL=angular-validator.min.js.map
